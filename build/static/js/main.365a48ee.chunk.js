(this["webpackJsonpcrypto-ducks"]=this["webpackJsonpcrypto-ducks"]||[]).push([[0],{21:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAA4CAYAAABT0c7BAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOzSURBVHgB7ZuNedMwEIY/uwMQJmg6AWUDMwHpBKQTABOQTkCZgDIB3SBhgsAE7QYOC8TcWXIsBcexLMlxpL7Pozp/tqST7nR3UgEbCkzTAkXP8gWxQp1/shBcnMLjTnPnExIeTCkwV4T3FdFQIKs6zuqKPhS4pvtz+ZzvCB5h1yoVXcAGEl4in0XXNb2fIFR4dvRW0SZoIIIX3oW0TdTBvLeKNqELb4mg0FX0E1xTuzY5QoJmwk/fhrwaGLZ9CAHqzMedXXOpov/X8+BtRg+OUKFczoQ5PMICC8Y9Ueya/84I347rcrNie0WsaEtZnuTqlquhkW8VVVFm9/jdkn1BNQgtw0DwAErBzTBiUv5TAL/5mgC3W+CKyuttgoRLkeCKvlhhIKgNf2TDMoyYUnDU2F98JQFe05tnKhucCGrLSrblDXzD5sfK9ZFB+yi8drJtQznCnJlJhSnqaU/rxoo0z4kNs+IIX8IXehLWIrUlfKh85w4MtIo2McQCke4lYe0WQH0UFjgFSht8zXwlWcHCWyiTpV99F3Vm9mSBdpW28uZwK8mKKhKqZjjH4zBGz36UwuMHsTB3ajuA7VM6lcEDjQOjh5UfYIxYXe85odjkCNutQMehQZpppkIMWibL1LrutpR/HSd3yjUmLZVM6W9GP3gvrxPxMR7JKb6BB3iGUz1HFwRqwzNdNlVJxPu//Hq7913pl0pkDDylckfO/aKh/iU9K6Pnr6iP79DWVnSFRwulDWABLqjiO7hGrKKTVHSO63lVYDf65WfVABqyKYSApyz0Mhpqrn9Kda9l3Z+pj/eHHthdcOLBLLzSSaaRndPdP3AKip1gq8IdLl+TYC7V7xLoakftvqF2P7Y8eyYnCM/et+qMtWrwQRsxZtg2GoRXbOedRlLeXYWxQIJOnO2vyCSj8x2usaKvwP0TAamrTegzQlHZNfqghiiICV1lDRMBInOihShRoats1vm+1OZUUiBUKts9cjpX98MDShh6XGWjcT86oMbR7bPuZbZpdPYqYnQ/DqF5FW2zrfMPI6GzVxG1+7FHd69C+G25sd8SIrqd7xB21dnQqFW1l1dRbWCkUR2nV6hPThl6FfoGRobIsPMqIlVZJ0mN6FTWWVIjMpV1mtRwckzgHPARZhplB84UP0kNfXnOEBr1GUH3eyohq6z3pEaIKjvMnkpoKttw7MsbIams4n702wI0wmrbbERYuB9mh270SncHcALgYZvg1uSGFH0R/zTyDWcOH/vawvzI2j/pIT0ECTVweQAAAABJRU5ErkJggg=="},24:function(e,t,a){e.exports=a(43)},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),i=a.n(s),o=a(6),l=a(9),c=a(10),m=a(7),u=a(12),h=a(11),d=a(1),p=a(14),g=a(21),f=a.n(g);a(29);var E=function(e){return r.a.createElement("div",{className:"logo"},r.a.createElement("div",{className:"logo__container"},r.a.createElement("img",{className:"logo__image",src:f.a,alt:"CryptoDucks logo"}),e.title&&r.a.createElement("p",{className:"logo__title"},e.title)))},b="https://api.nomoreparties.co",k=(a(30),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",message:""},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(p.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t,a,n=this;(e.preventDefault(),this.state.username&&this.state.password)&&(t=this.state.username,a=this.state.password,fetch("".concat(b,"/auth/local"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({identifier:t,password:a})}).then((function(e){console.log("auth",e),e.json()})).then((function(e){return e.user?(localStorage.setItem("jwt",e.jwt),e):void 0})).catch((function(e){return console.log(e)}))).then((function(e){if(!e)return n.setState({message:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!"});e.jwt&&n.setState({email:"",password:"",message:""},(function(){n.props.handleLogin(),n.props.history.push("/ducks")}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{onSubmit:this.handleSubmit,className:"login"},r.a.createElement(E,{title:"CryptoDucks"}),r.a.createElement("p",{className:"login__welcome"},"This app contains highly sensitive information. Please sign in or register to access CryptoDucks."),r.a.createElement("p",{className:"login__error"},this.state.message),r.a.createElement("form",{className:"login__form"},r.a.createElement("label",{for:"username"},"Username:"),r.a.createElement("input",{id:"username",required:!0,name:"username",type:"text",value:this.state.username,onChange:this.handleChange}),r.a.createElement("label",{for:"password"},"Password:"),r.a.createElement("input",{id:"password",required:!0,name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("div",{className:"login__button-container"},r.a.createElement("button",{type:"submit",className:"login__link"},"Log in"))),r.a.createElement("div",{className:"login__signup"},r.a.createElement("p",null,"Not a member yet?"),r.a.createElement(o.b,{to:"/register",className:"signup__link"},"Sign up here")))}}]),a}(r.a.Component)),v=Object(d.h)(k),w=(a(36),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={username:"",email:"",password:"",confirmPassword:"",message:""},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(p.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.password===this.state.confirmPassword){var a=this.state;(function(t,a,n){return fetch("".concat(b,"/auth/local/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:t,password:a,email:n})}).then((function(t){try{if(200===t.status)return t.json()}catch(e){return e}})).then((function(e){return e})).catch((function(e){return console.log(e)}))})(a.username,a.password,a.email).then((function(e){e?t.setState({message:""},(function(){t.props.history.push("/login")})):t.setState({message:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!"})}))}}},{key:"render",value:function(){return r.a.createElement("div",{className:"register"},r.a.createElement(E,{title:"CryptoDucks"}),r.a.createElement("p",{className:"register__welcome"},"Please register."),r.a.createElement("p",{className:"register__error"},this.state.message),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"register__form"},r.a.createElement("label",{for:"username"},"Username:"),r.a.createElement("input",{id:"username",name:"username",type:"text",value:this.state.username,onChange:this.handleChange}),r.a.createElement("label",{for:"email"},"Email:"),r.a.createElement("input",{id:"email",name:"email",type:"email",value:this.state.email,onChange:this.handleChange}),r.a.createElement("label",{for:"password"},"Password:"),r.a.createElement("input",{id:"password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("label",{for:"confirmPassword"},"Confirm password:"),r.a.createElement("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:this.state.confirmPassword,onChange:this.handleChange}),r.a.createElement("div",{className:"register__button-container"},r.a.createElement("button",{type:"submit",className:"register__link"},"Sign up"))),r.a.createElement("div",{className:"register__signin"},r.a.createElement("p",null,"Already a member?"),r.a.createElement(o.b,{to:"login",className:"register__login-link"},"Sign in here")))}}]),a}(r.a.Component)),y=Object(d.h)(w);a(37);var _=function(){var e=Object(d.g)();return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar__logo"},r.a.createElement(E,null)),r.a.createElement("ul",{className:"navbar__nav"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"ducks",className:"navbar__link"},"Ducks")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"my-profile",className:"navbar__link"},"My Profile")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){localStorage.removeItem("jwt"),e.push("/register")},className:"navbar__link navbar__button"},"Sign out"))))};a(38);var A=function(e){var t=e.duck;return r.a.createElement("div",{className:"duck-card"},r.a.createElement("div",{className:"duck-card__image"},r.a.createElement("img",{className:"duck-card__png",src:t.img})),r.a.createElement("div",{className:"duck-card__desc"},r.a.createElement("p",{className:"duck-card__name"},t.name),r.a.createElement("p",{className:"duck-card__text"},t.description)))},C={ducks:[{id:0,name:"Dog Duck",description:'This rare duck has been spotted on a number of occasions throughout central Europe. It is said to enjoy playing with old socks that it finds in the water. Tanya Peterson was 25 when she saw this duck, she reported, "It was quite a friendly little fellow. At no time did I feel any fear. I stayed with him for maybe 15 or 20 minutes, then zoom! He zipped out of the water and across the night sky like a comet."',img:"/duck-images/dog-duck.png"},{id:1,name:"Zebra Duck",description:"This skittish beauty has been sighted in central Africa. Cryptoduckologists assert that the best time to see one of these magnificent quackers when the full moon is at its highest point on a windless night.",img:"/duck-images/zebra-duck.png"},{id:2,name:"Giraffe Duck",description:'This is one of the tallest cryptoducks on record. One eyewitness reported a harrowing account of an encounter with one such creature. Thomas Maltese and his family were camping in New Jersey in the summer of 1962, "I had just put the kids to bed when I heard a rustling sound in the nearby brush. I shined my flashlight and there it was, the neck must have been 3 feet long. I still remember the quacking. Oh the terrible, terrible quacking. My life changed the night." ',img:"/duck-images/giraffe-duck.png"},{id:3,name:"UFO Duck",description:"Many have had encountered this duck. We do not know why they continue to visit us. Perhaps they are peaceful observers, or perhaps they have more sinister intentions. It's possible we will never know.",img:"/duck-images/ufo-duck.png"}]};a(39);var N=function(){var e=C.ducks;return r.a.createElement("div",{className:"duck-list"},e.map((function(e){return r.a.createElement(A,{duck:e,key:e.id})})))};var j=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement(N,null))};a(40);var I=function(e){var t=e.userData,a=t.username,n=t.email;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("div",{className:"my-profile"},r.a.createElement("div",{className:"my-profile__container"},r.a.createElement("div",{className:"my-profile__header"},r.a.createElement("p",null,"My profile"),r.a.createElement("hr",{className:"my-profile__rule"})),r.a.createElement("div",{className:"my-profile__info"},r.a.createElement("div",{className:"my-profile__user"},r.a.createElement("p",{className:"my-profile__key"},"Username:"),r.a.createElement("p",{className:"my-profile__value"},a)),r.a.createElement("div",{className:"my-profile__user"},r.a.createElement("p",{className:"my-profile__key"},"Email:"),r.a.createElement("p",{className:"my-profile__value"},n))))))},S=a(23),O=function(e){var t=e.component,a=Object(S.a)(e,["component"]);return r.a.createElement(d.b,null,(function(){return!0===a.loggedIn?r.a.createElement(t,a):r.a.createElement(d.a,{to:"./login"})}))},T=(a(41),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).tokenCheck=function(){if(localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");(t=e,fetch("".concat(b,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return e}))).then((function(e){if(e){var t={username:e.username,email:e.email};n.setState({loggedIn:!0,userData:t},(function(){n.props.history.push("/ducks")}))}}))}var t},n.state={loggedIn:!1},n.tokenCheck=n.tokenCheck.bind(Object(m.a)(n)),n.handleLogin=n.handleLogin.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.tokenCheck()}},{key:"handleLogin",value:function(){this.setState({loggedIn:!0})}},{key:"render",value:function(){return r.a.createElement(d.d,null,r.a.createElement(O,{path:"/ducks",loggedIn:this.state.loggedIn,component:j}),r.a.createElement(O,{path:"/my-profile",loggedIn:this.state.loggedIn,userData:this.state.userData,component:I}),r.a.createElement(d.b,{path:"/login"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement(v,{handleLogin:this.handleLogin,tokenCheck:this.tokenCheck}))),r.a.createElement(d.b,{path:"/register"},r.a.createElement("div",{className:"registerContainer"},r.a.createElement(y,null))),r.a.createElement(d.b,null,this.state.loggedIn?r.a.createElement(d.a,{to:"/ducks"}):r.a.createElement(d.a,{to:"/login"})))}}]),a}(r.a.Component)),B=Object(d.h)(T);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(42);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.365a48ee.chunk.js.map